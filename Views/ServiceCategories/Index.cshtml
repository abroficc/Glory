@{
    Layout = "_VerticalLayout";
    ViewData["Title"] = "فئات الخدمات";
    ViewData["Direction"] = "rtl";
}

@section styles {
    <!-- jstree css -->
    <link href="~/plugins/jstree/style.min.css" rel="stylesheet" type="text/css">
    <!-- date range picker css -->
    <link href="~/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css">
    <!-- datatables css -->
    <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css" rel="stylesheet">
    <!-- datatables buttons css -->
    <link href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- bootstrap-select CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css" />

    <!-- UI Polish CSS -->
    <link href="~/css/ui-polish.css" rel="stylesheet" type="text/css">
    
    <!-- Voucher Modal CSS -->
    <link href="~/css/voucher-modal.css" rel="stylesheet" type="text/css">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    
    <style>
        body[dir="rtl"] * {
            font-family: "Cairo", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }
        
        /* تعديل الجدول لإزالة المسافة بين الرأس والمحتوى */
        .table-bordered thead th {
            border-bottom-width: 1px;
        }
        
        .table-bordered tbody tr:first-child td {
            border-top: none;
        }
        
        .table {
            margin-bottom: 0;
        }
        
        /* Select all checkboxes styling */
        .form-check-input:checked {
            background-color: #1ab394;
            border-color: #1ab394;
        }
        
        /* Alert styling for better visibility */
        .alert-warning {
            background-color: #fff3cd;
            border-color: #ffeaa7;
            color: #856404;
        }
        
        .alert-danger {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        /* Dark mode alert adjustments */
        [data-bs-theme="dark"] .alert-warning {
            background-color: #664d03;
            border-color: #7d5f04;
            color: #ffecb5;
        }
        
        [data-bs-theme="dark"] .alert-danger {
            background-color: #721c24;
            border-color: #842029;
            color: #f8d7da;
        }
        
        /* Tree view container */
        #categories-tree {
            min-height: 400px;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
        }
        
        /* Table card styling */
        .table-dark-card {
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #e5e7eb;
            box-shadow: 0 4px 20px rgba(0,0,0,.05);
        }

        .table-dark-card table {
            width: 100%;
            border-collapse: collapse;
            color: #374151;
            font-size: 14px;
        }

        .table-dark-card thead {
            background: linear-gradient(180deg, #f3f4f6, #e5e7eb);
        }
        
        .table-dark-card thead th {
            padding: 12px 14px;
            text-align: center;
            font-weight: 600;
            color: #111827;
            border-bottom: 1px solid #d1d5db;
            white-space: nowrap;
        }

        .table-dark-card tbody tr {
            background: #fff;
            transition: background 0.2s;
        }
        
        .table-dark-card tbody tr:nth-child(even) {
            background: #f9fafb;
        }
        
        .table-dark-card tbody tr:hover {
            background: #f3f4f6;
        }
        
        .table-dark-card td {
            padding: 12px 14px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
        }

        .btn-more {
            border: 1px solid #d1d5db;
            background: transparent;
            color: #3b82f6;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
        }
        
        .btn-more:hover {
            background: #2563eb;
            color: #fff;
            border-color: #2563eb;
        }

        /* Dark mode table styles */
        [data-bs-theme="dark"] .table-dark-card {
            background: #111827;
            border: 1px solid #1f2937;
            box-shadow: 0 4px 20px rgba(0,0,0,.4);
        }

        [data-bs-theme="dark"] .table-dark-card table {
            color: #e5e7eb;
        }

        [data-bs-theme="dark"] .table-dark-card thead {
            background: linear-gradient(180deg, #1e293b, #111827);
        }
        
        [data-bs-theme="dark"] .table-dark-card thead th {
            color: #f9fafb;
            border-bottom: 1px solid #374151;
        }

        [data-bs-theme="dark"] .table-dark-card tbody tr {
            background: #111827;
        }
        
        [data-bs-theme="dark"] .table-dark-card tbody tr:nth-child(even) {
            background: #1a2234;
        }
        
        [data-bs-theme="dark"] .table-dark-card tbody tr:hover {
            background: #1f2937;
        }
        
        [data-bs-theme="dark"] .table-dark-card td {
            border-bottom: 1px solid #1f2937;
        }

        [data-bs-theme="dark"] .btn-more {
            border: 1px solid #374151;
            color: #93c5fd;
        }
        
        [data-bs-theme="dark"] .btn-more:hover {
            background: #2563eb;
            color: #fff;
            border-color: #2563eb;
        }
        
        /* Light mode pagination */
        .pagination-dark {
            display: flex;
            justify-content: center;
            margin-top: 12px;
            gap: 4px;
        }
        
        .pagination-dark button {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            color: #111827;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .pagination-dark button.active {
            background: #10b981;
            border-color: #10b981;
            color: #fff;
        }
        
        .pagination-dark button:hover:not(.active) {
            background: #2563eb;
            border-color: #2563eb;
            color: #fff;
        }

        /* Dark mode pagination */
        [data-bs-theme="dark"] .pagination-dark button {
            background: #1e293b;
            border: 1px solid #374151;
            color: #f9fafb;
        }
        
        [data-bs-theme="dark"] .pagination-dark button.active {
            background: #10b981;
            border-color: #10b981;
        }
        
        [data-bs-theme="dark"] .pagination-dark button:hover:not(.active) {
            background: #2563eb;
            border-color: #2563eb;
        }
        
        /* Modal header styling - using project's primary color */
        .modal-header {
            background-color: #1ab394; /* Project's primary color */
            color: white;
            border-bottom: 1px solid #16987e;
        }
        
        /* Modal title styling */
        .modal-header .modal-title {
            font-weight: 500;
            color: white;
        }
        
        /* Close button styling for modal headers */
        .modal-header .btn-close {
            filter: invert(1) grayscale(100%) brightness(200%);
        }
        
        /* Modal footer styling - using a lighter shade */
        .modal-footer {
            background-color: #f0f8f8; /* Light teal background */
            border-top: 1px solid #d1e8e8;
        }
        
        /* Primary buttons in modals */
        .modal-footer .btn-primary {
            background-color: #1ab394;
            border-color: #1ab394;
        }
        
        .modal-footer .btn-primary:hover {
            background-color: #16987e;
            border-color: #16987e;
        }
        
        /* Form styling */
        .v-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #e9ecef;
        }
        
        [data-bs-theme="dark"] .v-section {
            background: #1e1f27;
            border-color: #293036;
        }
        
        .v-cap {
            font-weight: 600;
            margin-bottom: 15px;
            color: #495057;
            font-size: 16px;
        }
        
        [data-bs-theme="dark"] .v-cap {
            color: #aab8c5;
        }
        
        .v-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #495057;
        }
        
        [data-bs-theme="dark"] .v-label {
            color: #aab8c5;
        }
        
        .v-req {
            color: #e02d2d;
        }
        
        .v-input, .v-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            background-color: #fff;
            color: #495057;
        }
        
        [data-bs-theme="dark"] .v-input, 
        [data-bs-theme="dark"] .v-select {
            background-color: #272832;
            border-color: #293036;
            color: #aab8c5;
        }
        
        .v-input:focus, .v-select:focus {
            border-color: #1ab394;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(26, 179, 148, 0.25);
        }
        
        .note-highlight {
            background-color: #e7f4f0;
            border-left: 3px solid #1ab394;
            padding: 8px 12px;
            margin-top: 5px;
            font-size: 13px;
            border-radius: 0 4px 4px 0;
        }
        
        [data-bs-theme="dark"] .note-highlight {
            background-color: #1e3a35;
            border-left-color: #1ab394;
            color: #aab8c5;
        }
        
        /* Fix for bootstrap-select dropdown shaking issue */
        .bootstrap-select .dropdown-menu {
            transform: translate3d(0, 0, 0) !important;
            -webkit-transform: translate3d(0, 0, 0) !important;
            -moz-transform: translate3d(0, 0, 0) !important;
            -ms-transform: translate3d(0, 0, 0) !important;
            -o-transform: translate3d(0, 0, 0) !important;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        
        /* Bootstrap Select Dropdown z-index fix */
        .bootstrap-select .dropdown-menu {
            z-index: 20000;
        }
        
        /* Flatpickr calendar z-index fix */
        .flatpickr-calendar {
            z-index: 200000 !important;
        }
        
        /* Table cell styling */
        #categoriesTable td,
        #categoriesTable th {
            white-space: normal !important;
            word-wrap: break-word;
        }
        
        /* Responsive table */
        .table-responsive {
            overflow-x: hidden;
        }
        
        /* Fix for dropdown positioning */
        #filterSection, .card, .table-responsive {
            overflow: visible !important;
        }
        
        /* Form controls */
        .form-control-plaintext {
            color: #495057;
            border: none;
            background-color: transparent;
            padding: 8px 12px;
        }
        
        [data-bs-theme="dark"] .form-control-plaintext {
            color: #aab8c5;
        }
        
        /* Readonly input fields */
        #viewCategoryModal .form-control[readonly] {
            background-color: #f8f9fa;
            border-color: #e9ecef;
            color: #495057;
            opacity: 1;
        }
        
        [data-bs-theme="dark"] #viewCategoryModal .form-control[readonly] {
            background-color: #272832;
            border-color: #293036;
            color: #aab8c5;
        }
        
        /* Checkboxes */
        .table th input[type="checkbox"],
        .table td input[type="checkbox"],
        #selectAll {
            margin: 0;
            vertical-align: middle;
        }
        
        #selectAll {
            transform: scale(1.2);
        }
        
        /* Cards */
        .card {
            border-radius: 8px;
            overflow: hidden;
        }
        
        .card-header {
            font-weight: 600;
        }
        
        [data-bs-theme="dark"] .card {
            background-color: #1e1f27;
            border-color: #293036;
        }
        
        [data-bs-theme="dark"] .card-header {
            background-color: #1e1f27;
            border-color: #293036;
        }
        
        /* Bootstrap Select */
        .bootstrap-select .dropdown-menu {
            text-align: right;
            z-index: 20000;
            max-height: 200px;
        }
        
        .bootstrap-select.btn-group .dropdown-toggle .filter-option {
            color: inherit;
        }
        
        .bootstrap-select .dropdown-menu li a span.text {
            display: block;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .bootstrap-select .dropdown-header {
            background-color: #f8f9fa;
            color: #495057;
        }
        
        [data-bs-theme="dark"] .bootstrap-select .dropdown-header {
            color: #aab8c5;
            background-color: #1e1f27;
        }
        
        .bootstrap-select .dropdown-toggle {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
        
        .bootstrap-select .dropdown-toggle:focus {
            box-shadow: 0 0 0 0.2rem rgba(26, 179, 148, 0.25);
        }
        
        [data-bs-theme="dark"] .bootstrap-select .dropdown-toggle {
            background-color: #272832;
            border-color: #293036;
            color: #aab8c5;
        }
        
        [data-bs-theme="dark"] .bootstrap-select .dropdown-toggle:focus {
            border-color: #16987e;
            box-shadow: 0 0 0 0.2rem rgba(22, 152, 126, 0.25);
        }
        
        /* Fix for select arrow in dark mode */
        [data-bs-theme="dark"] .bootstrap-select .dropdown-toggle::after {
            border-top-color: #aab8c5;
        }
        
        /* Disabled options */
        .bootstrap-select .dropdown-menu > .disabled > a {
            color: #6c757d;
            background-color: transparent;
        }
        
        [data-bs-theme="dark"] .bootstrap-select .dropdown-menu > .disabled > a {
            color: #6c757d;
        }
        
        /* Select text visibility */
        .modal-content .selectpicker,
        .modal-content .bootstrap-select .filter-option {
            width: 100%;
            color: #495057;
        }
        
        [data-bs-theme="dark"] .modal-content .selectpicker,
        [data-bs-theme="dark"] .modal-content .bootstrap-select .filter-option {
            background-color: #272832;
            border-color: #293036;
            color: #aab8c5;
        }
        
        /* DataTables Buttons */
        .dt-buttons .btn {
            margin-right: 5px;
            margin-bottom: 5px;
        }
        
        .dt-button-collection {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 6px 12px rgba(0,0,0,.175);
        }
        
        [data-bs-theme="dark"] .dt-button-collection {
            background-color: #1e1f27;
            border: 1px solid #293036;
            box-shadow: 0 6px 12px rgba(0,0,0,.4);
        }
        
        .dt-button-collection .dropdown-item {
            padding: 8px 15px;
        }
        
        [data-bs-theme="dark"] .dt-button-collection .dropdown-item {
            color: #aab8c5;
        }
        
        [data-bs-theme="dark"] .dt-button-collection .dropdown-item:hover {
            background-color: #16987e;
            color: #fff;
        }
        
        /* Button styling */
        .dt-buttons .btn-outline-secondary {
            color: #6c757d;
            border-color: #6c757d;
        }
        
        .dt-buttons .btn-outline-secondary:hover {
            background-color: #6c757d;
            color: #fff;
        }
        
        [data-bs-theme="dark"] .dt-buttons .btn-outline-secondary {
            color: #aab8c5;
            border-color: #aab8c5;
        }
        
        [data-bs-theme="dark"] .dt-buttons .btn-outline-secondary:hover {
            background-color: #16987e;
            color: #fff;
            border-color: #16987e;
        }
        
        /* Filter section */
        #filterSection {
            background-color: #ffffff;
            border-radius: 10px;
            padding: 16px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        [data-bs-theme="dark"] #filterSection {
            background-color: #111827;
            border-radius: 10px;
            padding: 16px;
        }
        
        /* Filter form controls */
        #filterSection .form-control {
            background-color: #ffffff;
            border: 1px solid #d1d5db;
            color: #111827;
            border-radius: 6px;
            padding: 8px 10px;
            transition: all 0.2s ease-in-out;
            font-weight: 500;
        }
        
        #filterSection .form-control:focus {
            background-color: #ffffff;
            border-color: #1ab394;
            box-shadow: 0 0 0 0.25rem rgba(26, 179, 148, 0.2);
            color: #111827;
        }
        
        #filterSection .form-control::placeholder {
            color: #9ca3af;
            opacity: 1;
        }
        
        [data-bs-theme="dark"] #filterSection .form-control {
            background-color: #1f2937;
            border: 1px solid #374151;
            color: #f3f4f6;
            border-radius: 6px;
            padding: 8px 10px;
            transition: all 0.2s ease-in-out;
        }
        
        [data-bs-theme="dark"] #filterSection .form-control:focus {
            background-color: #111827;
            border-color: #06b6d4;
            box-shadow: 0 0 6px rgba(6, 182, 212, 0.4);
            color: #fff;
        }
        
        [data-bs-theme="dark"] #filterSection .form-control::placeholder {
            color: #9ca3af;
            opacity: 0.85;
        }
        
        /* Filter buttons */
        #filterSection .btn {
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            padding: 6px 12px;
        }
        
        #filterSection .btn-primary {
            background-color: #1ab394;
            border: none;
            color: #fff;
        }
        
        #filterSection .btn-primary:hover {
            background-color: #16987e;
        }
        
        #filterSection .btn-secondary {
            background-color: #6b7280;
            border: none;
            color: #fff;
        }
        
        #filterSection .btn-secondary:hover {
            background-color: #4b5563;
        }
        
        #filterSection .btn-info {
            background-color: #3b82f6;
            border: none;
            color: #fff;
        }
        
        #filterSection .btn-info:hover {
            background-color: #2563eb;
        }
        
        #filterSection .btn-success {
            background-color: #10b981;
            border: none;
            color: #fff;
        }
        
        #filterSection .btn-success:hover {
            background-color: #059669;
        }
        
        [data-bs-theme="dark"] #filterSection .btn {
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }
        
        [data-bs-theme="dark"] #filterSection .btn-primary {
            background-color: #06b6d4;
            border: none;
            color: #fff;
        }
        
        [data-bs-theme="dark"] #filterSection .btn-primary:hover {
            background-color: #0891b2;
        }
        
        [data-bs-theme="dark"] #filterSection .btn-secondary {
            background-color: #374151;
            border: none;
            color: #e5e7eb;
        }
        
        [data-bs-theme="dark"] #filterSection .btn-secondary:hover {
            background-color: #4b5563;
        }
        
        /* DataTables selection effects */
        table.dataTable tbody > tr.selected,
        table.dataTable tbody > tr > .selected,
        table.dataTable tbody > tr.selected > td,
        table.dataTable tbody > tr > .selected > td {
            background-color: transparent !important;
            outline: none !important;
            box-shadow: none !important;
        }
        
        table.dataTable.stripe tbody > tr.odd.selected,
        table.dataTable.stripe tbody > tr.odd > .selected,
        table.dataTable.display tbody > tr.odd.selected,
        table.dataTable.display tbody > tr.odd > .selected,
        table.dataTable.stripe tbody > tr.odd.selected > td,
        table.dataTable.stripe tbody > tr.odd > .selected > td,
        table.dataTable.display tbody > tr.odd.selected > td,
        table.dataTable.display tbody > tr.odd > .selected > td {
            background-color: #f9fafb !important;
        }
        
        [data-bs-theme="dark"] table.dataTable.stripe tbody > tr.odd.selected,
        [data-bs-theme="dark"] table.dataTable.stripe tbody > tr.odd > .selected,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.odd.selected,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.odd > .selected,
        [data-bs-theme="dark"] table.dataTable.stripe tbody > tr.odd.selected > td,
        [data-bs-theme="dark"] table.dataTable.stripe tbody > tr.odd > .selected > td,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.odd.selected > td,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.odd > .selected > td {
            background-color: #1a2234 !important;
        }
        
        table.dataTable tbody > tr.even.selected,
        table.dataTable tbody > tr.even > .selected,
        table.dataTable.display tbody > tr.even.selected,
        table.dataTable.display tbody > tr.even > .selected,
        table.dataTable tbody > tr.even.selected > td,
        table.dataTable tbody > tr.even > .selected > td,
        table.dataTable.display tbody > tr.even.selected > td,
        table.dataTable.display tbody > tr.even > .selected > td {
            background-color: #ffffff !important;
        }
        
        [data-bs-theme="dark"] table.dataTable tbody > tr.even.selected,
        [data-bs-theme="dark"] table.dataTable tbody > tr.even > .selected,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.even.selected,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.even > .selected,
        [data-bs-theme="dark"] table.dataTable tbody > tr.even.selected > td,
        [data-bs-theme="dark"] table.dataTable tbody > tr.even > .selected > td,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.even.selected > td,
        [data-bs-theme="dark"] table.dataTable.display tbody > tr.even > .selected > td {
            background-color: #111827 !important;
        }
        
        /* DataTables focus and hover effects */
        table.dataTable thead th,
        table.dataTable thead td,
        table.dataTable tbody td,
        table.dataTable tbody th {
            outline: none !important;
            box-shadow: none !important;
        }
        
        table.dataTable thead th:focus,
        table.dataTable thead td:focus,
        table.dataTable thead th:active,
        table.dataTable thead td:active,
        table.dataTable tbody td:focus,
        table.dataTable tbody th:focus,
        table.dataTable tbody td:active,
        table.dataTable tbody th:active {
            outline: none !important;
            box-shadow: none !important;
            background-color: inherit !important;
        }
        
        /* DataTables sorting arrows */
        table.dataTable thead .sorting,
        table.dataTable thead .sorting_asc,
        table.dataTable thead .sorting_desc,
        table.dataTable thead .sorting_asc_disabled,
        table.dataTable thead .sorting_desc_disabled {
            outline: none !important;
            box-shadow: none !important;
        }
        
        /* DataTables selection background */
        table.dataTable tbody tr:hover,
        table.dataTable tbody tr:hover td {
            background-color: inherit !important;
        }
        
        /* Custom hover */
        .table-dark-card tbody tr:hover {
            background: #f3f4f6 !important;
        }
        
        [data-bs-theme="dark"] .table-dark-card tbody tr:hover {
            background: #1f2937 !important;
        }
        
        /* Calendar z-index fix */
        .flatpickr-calendar {
            z-index: 200000 !important;
        }
        
        /* Disabled top action buttons */
        .btn-outline-primary.disabled,
        .btn-outline-info.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* CKEditor validation */
        .ck-editor.is-invalid .ck-editor__editable {
            border-color: #e02d2d !important;
            box-shadow: 0 0 0 0.2rem rgba(224, 45, 45, 0.25) !important;
        }
        
        /* Fix modal scrolling issues */
        .modal-dialog-scrollable .modal-content {
            max-height: calc(100vh - 2rem);
        }
        
        .modal-dialog-scrollable .modal-body {
            overflow-y: auto;
        }
        
        /* Fix for services list text color */
        #services-list .form-check-label {
            color: #000000 !important;
            font-weight: 600;
        }
        
        [data-bs-theme="dark"] #services-list .form-check-label {
            color: #e9ecef !important;
        }
        
        /* Ensure services list is visible */
        #services-list {
            background-color: #ffffff !important;
            border: 1px solid #ced4da !important;
        }
        
        [data-bs-theme="dark"] #services-list {
            background-color: #272832 !important;
            border: 1px solid #293036 !important;
        }
        
        /* Fix for form check input alignment */
        #services-list .form-check {
            padding: 8px 12px;
            border-bottom: 1px solid #eee;
        }
        
        [data-bs-theme="dark"] #services-list .form-check {
            border-bottom: 1px solid #374151;
        }
        
        #services-list .form-check:last-child {
            border-bottom: none;
        }
        
        /* Fix modal scrolling and image section visibility */
        .modal-body {
            max-height: 70vh;
            overflow-y: auto;
        }
        
        /* Ensure all form elements are visible within modal */
        .modal-body .mb-3 {
            margin-bottom: 1.5rem;
        }
        
        /* Fix for icon picker overflow */
        .icon-picker {
            max-height: 300px;
            overflow-y: auto;
        }
        
        /* Ensure color pickers are visible */
        .form-control-color {
            height: 40px;
            padding: 5px;
        }
        
        /* Fix modal scrolling and ensure all content is visible */
        .modal-dialog-scrollable .modal-content {
            max-height: 90vh;
        }
        
        .modal-body {
            max-height: 75vh;
            overflow-y: auto;
        }
        
        /* Ensure the file input section is visible */
        .mb-3.mt-3 {
            margin-bottom: 1rem !important;
            margin-top: 1rem !important;
        }
        
        /* تكبير النصوص داخل النافذة المنبثقة - Modal text sizing */
        .modal-content {
            font-size: 16px; /* حجم الخط الأساسي */
            line-height: 1.8; /* تباعد الأسطر لسهولة القراءة */
            padding: 20px;
        }

        /* العناوين */
        .modal-header .modal-title {
            font-size: 20px;
            font-weight: bold;
        }

        /* النصوص المساعدة الصغيرة */
        .modal-body small,
        .modal-body .form-text {
            font-size: 14px;
            color: #555; /* لون أوضح */
        }

        /* الحقول */
        .modal-body .form-control,
        .modal-body .form-select {
            font-size: 16px;
            padding: 10px 12px;
        }

        /* التكبير داخل Textarea */
        .modal-body textarea {
            font-size: 16px;
            padding: 12px;
        }

        /* زر الحفظ والإغلاق */
        .modal-footer .btn {
            font-size: 15px;
            padding: 8px 20px;
        }
    </style>
}

<!-- Filter toggle button -->
<div class="mb-2">
    <button id="toggleFilters" type="button" class="btn btn-primary">
        <i class="ti ti-filter-off me-1"></i><span id="toggleFiltersText">إظهار الفلترة</span>
    </button>
</div>

<!-- Filter section -->
<div class="card mb-3" id="filterSection" style="display: none;">
    <div class="card-body p-2">
        <!-- DataTables Buttons Container -->
        <div class="row g-2 mb-2">
            <div class="col-12" id="datatables-buttons-container">
                <!-- DataTables buttons will be inserted here by JavaScript -->
            </div>
        </div>
        
        <!-- Filter fields in grid layout (side by side) -->
        <div class="row g-2 mb-2">
            <div class="col-md">
                <input type="text" class="form-control form-control-sm" placeholder="الرقم" id="filter-id">
            </div>
            <div class="col-md">
                <input type="text" class="form-control form-control-sm" placeholder="اسم الفئة" id="filter-category-name">
            </div>
            <div class="col-md">
                <select class="selectpicker form-control form-control-sm" id="filter-year" data-live-search="true" title="اختر السنة">
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                </select>
            </div>
            <div class="col-md">
                <select class="selectpicker form-control form-control-sm" id="filter-records" data-live-search="true" title="اختر السجلات">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
            </div>
        </div>
        
        <!-- Unified action buttons -->
        <div class="row g-2">
            <div class="col">
                <button type="button" class="btn btn-secondary btn-sm" id="resetFilters">إعادة تعيين</button>
                <button type="button" class="btn btn-primary btn-sm" id="applyFilters">بحث</button>
            </div>
        </div>
    </div>
</div>

<!-- Action buttons -->
<div class="mb-3">
    <div class="d-flex gap-2 flex-wrap">
        <a href="#" class="btn btn-sm btn-outline-danger" title="حذف">
            <i class="fa fa-trash"></i>
        </a>
        <!-- زر لفتح النافذة -->
        <button type="button" class="btn btn-sm btn-outline-success" title="إضافة" data-bs-toggle="modal" data-bs-target="#addServiceCategory">
            <i class="fa fa-plus"></i>
        </button>
        <a href="#" class="btn btn-sm btn-outline-primary" title="تعديل" id="topEditButton">
            <i class="fa fa-pencil"></i>
        </a>
        <a href="#" class="btn btn-sm btn-outline-info" title="مشاهدة" id="topViewButton">
            <i class="fa fa-eye"></i>
        </a>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <div class="d-flex align-items-center">
            <h5 class="card-title mb-0 fw-bold">@ViewData["Title"]</h5>
            <div class="me-auto">
                <!-- Refresh button -->
                <button type="button" class="btn btn-sm btn-outline-secondary ms-2" id="refreshBtn" title="تحديث">
                    <i class="fa fa-refresh"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table id="categoriesTable" class="table table-striped table-bordered dt-responsive nowrap w-100">
                <thead>
                    <tr>
                        <th class="text-center" width="40px">
                            <div class="form-check"><input type="checkbox" class="form-check-input" id="selectAll"></div>
                        </th>
                        <th>الرقم</th>
                        <th>اسم الفئة</th>
                        <th>الخدمات</th>
                        <th style="width: 100px; text-align: center;">المزيد</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-center">
                            <div class="form-check"><input type="checkbox" class="form-check-input category-checkbox" value="1"></div>
                        </td>
                        <td>1</td>
                        <td>ألعاب</td>
                        <td>25</td>
                        <td style="text-align: center;">
                            <div class="dropdown">
                                <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    للمزيد
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#" data-action="edit"><i class="fa fa-pencil me-1"></i> تعديل</a></li>
                                    <li><a class="dropdown-item" href="#" data-action="view"><i class="fa fa-eye me-1"></i> مشاهدة</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fa fa-trash me-1"></i> حذف</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-center">
                            <div class="form-check"><input type="checkbox" class="form-check-input category-checkbox" value="2"></div>
                        </td>
                        <td>2</td>
                        <td>بطاقات شحن</td>
                        <td>42</td>
                        <td style="text-align: center;">
                            <div class="dropdown">
                                <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    للمزيد
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#" data-action="edit"><i class="fa fa-pencil me-1"></i> تعديل</a></li>
                                    <li><a class="dropdown-item" href="#" data-action="view"><i class="fa fa-eye me-1"></i> مشاهدة</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fa fa-trash me-1"></i> حذف</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-center">
                            <div class="form-check"><input type="checkbox" class="form-check-input category-checkbox" value="3"></div>
                        </td>
                        <td>3</td>
                        <td>شبكات اتصالات</td>
                        <td>18</td>
                        <td style="text-align: center;">
                            <div class="dropdown">
                                <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    للمزيد
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#" data-action="edit"><i class="fa fa-pencil me-1"></i> تعديل</a></li>
                                    <li><a class="dropdown-item" href="#" data-action="view"><i class="fa fa-eye me-1"></i> مشاهدة</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fa fa-trash me-1"></i> حذف</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-center">
                            <div class="form-check"><input type="checkbox" class="form-check-input category-checkbox" value="4"></div>
                        </td>
                        <td>4</td>
                        <td>خدمات مالية</td>
                        <td>0</td>
                        <td style="text-align: center;">
                            <div class="dropdown">
                                <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    للمزيد
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="#" data-action="edit"><i class="fa fa-pencil me-1"></i> تعديل</a></li>
                                    <li><a class="dropdown-item" href="#" data-action="view"><i class="fa fa-eye me-1"></i> مشاهدة</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fa fa-trash me-1"></i> حذف</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Pagination -->
<div class="d-flex justify-content-between align-items-center mt-3">
    <div class="text-muted">إظهار 1 إلى 10 من 14 سجل</div>
    <nav aria-label="Page navigation">
        <ul class="pagination mb-0">
            <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="السابق">
                    <span aria-hidden="true">السابق</span>
                </a>
            </li>
            <li class="page-item active">
                <a class="page-link" href="#">1</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="#">2</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="#" aria-label="التالي">
                    <span aria-hidden="true">التالي</span>
                </a>
            </li>
        </ul>
    </nav>
</div>

<!-- النافذة المنبثقة -->
<div class="modal fade" id="addServiceCategory" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-scrollable">
    <div class="modal-content" dir="rtl">
      
      <!-- الهيدر -->
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">دليل البيانات > فئات الخدمات</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- المحتوى -->
      <form id="categoryForm">
        <div class="modal-body">
          
          <!-- اسم الفئة -->
          <div class="mb-3">
            <label class="form-label fw-bold">اسم الفئة <span class="text-danger">*</span></label>
            <input type="text" class="form-control" placeholder="اكتب اسم الفئة" required>
          </div>

          <!-- الخدمات -->
          <div class="mb-3" dir="rtl">
            <label class="form-label fw-bold">الخدمات <span class="text-danger">*</span></label>
            <div id="services-list" class="border rounded p-2" 
                 style="max-height: 300px; overflow-y: auto; background:#fdfdfd">
            </div>
          </div>

          <!-- الشبكة -->
          <div class="mb-3">
            <label class="form-label fw-bold">الشبكة <span class="text-danger">*</span></label>
            <select class="form-select selectpicker" id="add-network-number" data-live-search="true" title="اختر الشبكة">
              <option value="yem">كبينة الموبايل مباشر - yem</option>
              <option value="adslwline">كبينة الثابت والنت مباشر - adslwline</option>
              <option value="kabinawifi">كبينة واي فاي - kabinawifi</option>
              <option value="transferin">التحويل لحساب عميل - transferin</option>
              <option value="khazna">الخزنة - khazna</option>
              <option value="netflix">نت فليكس - netflix</option>
              <option value="binsport">بي إن سبورت - binsport</option>
              <option value="electkabina">تسديد فواتير الكهرباء - electkabina</option>
              <option value="cardbalance">كبينة كروت تغذية الرصيد - cardbalance</option>
              <option value="mtnpost">خدمة يو فوترة - mtnpost</option>
              <option value="winner">كبينة المسابقات - winner</option>
              <option value="chat">شات آب - chat</option>
              <option value="setting">الاعدادات - setting</option>
              <option value="sadidli">سددلي - sadidli</option>
              <option value="report">تقرير - report</option>
              <option value="offers">العروض والاعلانات - offers</option>
              <option value="myaccount">حسابي - myaccount</option>
              <option value="chngnk">خدمة طلب تعديل الاسم في النظام - chngnk</option>
              <option value="kumsnd">ارسال حوالة كريمي مباشر - kumsnd</option>
              <option value="s_imt_n">شرائح MTN مباشر - s_imt_n</option>
              <option value="whynums">استعلام عن ارقام واي - whynums</option>
              <option value="whynumcheck">فحص رقم واي - whynumcheck</option>
              <option value="whysim">تفعيل شريحة واي - whysim</option>
              <option value="traffic">خدمة سداد المخالفات المرورية - traffic</option>
              <option value="sb_a_s_i_m">شرائح سبأفون جنوب مباشر - sb_a_s_i_m</option>
              <option value="yousim">شرائح يو جديد مباشر - yousim</option>
              <option value="youresim">شرائح يو بدل فاقد مباشر - youresim</option>
              <option value="sabasim">شرائح جديد سبأفون مباشر - sabasim</option>
              <option value="yem4g">خدمة يمن فورجي - yem4g</option>
              <option value="w_h_y_sim">تفعيل شرايح واي مباشر - w_h_y_sim</option>
              <option value="rcvmonry">خدمة اضافه المبلغ لحساب العميل - rcvmonry</option>
              <option value="yougmtn">باقات يو الموحدة - yougmtn</option>
              <option value="querypost">خدمة استعلام النت والثابت - querypost</option>
              <option value="yem4gchng">تغيير باقة فورجي - yem4gchng</option>
            </select>
            <small class="text-muted">
              ملاحظة: حط الشبكة حسب الموضح (مثال: كبينة التسديدات - 150, كبينة واي فاي - kabinawifi ...)
            </small>
          </div>

          <!-- فئة اللعبة -->
          <div class="mb-3">
            <label class="form-label fw-bold">فئة اللعبه (فقط في فئات الالعاب)</label>
            <select class="form-select selectpicker" id="add-games" data-live-search="true" multiple title="اختر الألعاب">
              <option value="pubg">بوبجي PUBG Mobile</option>
              <option value="freefire">فري فاير Free Fire</option>
              <option value="ml">Mobile Legends</option>
              <option value="lords">لوردز موبايل</option>
              <option value="clashroyal">كلاش رويال</option>
              <option value="coc">كلاش أوف كلانز</option>
              <option value="newstate">PUBG: NEW STATE</option>
              <option value="brawlstars">براول ستارز</option>
              <option value="hyday">هاي داي</option>
              <option value="jewels">جواهر</option>
              <option value="goldcoins">عمله ذهبيه</option>
              <option value="callofduty">كول أوف ديوتي</option>
              <option value="boombay">بوم بيتش</option>
              <option value="tiktok">تيك توك</option>
              <option value="blupvip">بلوت VIP</option>
              <option value="yallaluod">YALLA LUOD</option>
              <option value="xbox">XBOX</option>
              <option value="antkamalsatin">انتقام السلاطين</option>
              <option value="apexlegends">Apex lagends</option>
              <option value="tahadimlk">تحدي الملوك</option>
              <option value="borg18">البرج 18</option>
              <option value="fatihoon">الفاتحون</option>
              <option value="toptop">توب توب TopTop</option>
              <option value="8ballpool">8 ballPool</option>
              <option value="tether">تيثر Tether</option>
              <option value="lama">لعبه لامي</option>
              <option value="ohla">اوهلا</option>
              <option value="fifamobile">فيفا موبايل</option>
              <option value="kwai">كواي</option>
              <option value="madinatmafia">مدينة المافيا</option>
              <option value="efootball">eFootball</option>
              <option value="aroodal3ab">عروض الألعاب</option>
              <option value="partystar">بارتي ستا</option>
              <option value="asralsa2ir">عصر الاساطير</option>
              <option value="pubglite">PUBG Lite</option>
              <option value="farlight">فار لايت</option>
              <option value="tod">تود Tod</option>
              <option value="kingofflown">كينج اوف افلاون</option>
              <option value="apexlagends"> Apex lagends</option>
              <option value="honorkings">Honor of Kings</option>
              <option value="topwar">توب وار</option>
              <option value="partyu">بارتي يو</option>
              <option value="piggygo">بيجي جو - Piggy go</option>
              <option value="ludoclub">لودو كلوب - Ludo club</option>
              <option value="funboxludo">فن بوكس لودو - Funbox ludo</option>
              <option value="tantan">تان تان - Tan tan</option>
              <option value="goldenludo">جولدن لودو - Golden ludo</option>
            </select>
          </div>

          <!-- الألوان -->
          <div class="row g-2">
            <div class="col-md-6">
              <label class="form-label">اختر لون الايقونة*</label>
              <input type="color" class="form-control form-control-color" value="#007bff">
            </div>
            <div class="col-md-6">
              <label class="form-label">اختر لون خلفية الايقونة*</label>
              <input type="color" class="form-control form-control-color" value="#ffffff">
            </div>
            <div class="col-md-6">
              <label class="form-label">اختر لون النص*</label>
              <input type="color" class="form-control form-control-color" value="#000000">
            </div>
            <div class="col-md-6">
              <label class="form-label">اختر لون خلفية النص*</label>
              <input type="color" class="form-control form-control-color" value="#f8f9fa">
            </div>
          </div>

          <!-- رفع صورة -->
          <div class="mb-3 mt-3">
            <label class="form-label fw-bold">صورة*</label>
            <input type="file" class="form-control">
          </div>
          
          <!-- Fix for modal scrolling to ensure all content is visible -->
          <div style="height: 20px;"></div>

          <!-- اختيار أيقونة -->
          <div class="mb-3" dir="rtl">
            <label class="form-label fw-bold">اختر أيقونة <span class="text-danger">*</span></label>
            
            <div class="icon-picker" style="max-height:350px; overflow-y:auto;">
              <div class="row row-cols-6 g-3">
          
                <!-- أيقونة 1 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon1" value="fa fa-home">
                  <label for="icon1" class="d-block">
                    <i class="fa fa-home fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 2 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon2" value="fa fa-user">
                  <label for="icon2" class="d-block">
                    <i class="fa fa-user fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 3 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon3" value="fa fa-cog">
                  <label for="icon3" class="d-block">
                    <i class="fa fa-cog fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 4 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon4" value="fa fa-credit-card">
                  <label for="icon4" class="d-block">
                    <i class="fa fa-credit-card fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 5 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon5" value="fa fa-shopping-cart">
                  <label for="icon5" class="d-block">
                    <i class="fa fa-shopping-cart fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 6 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon6" value="fa fa-gamepad">
                  <label for="icon6" class="d-block">
                    <i class="fa fa-gamepad fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 7 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon7" value="fa fa-phone">
                  <label for="icon7" class="d-block">
                    <i class="fa fa-phone fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 8 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon8" value="fa fa-envelope">
                  <label for="icon8" class="d-block">
                    <i class="fa fa-envelope fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 9 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon9" value="fa fa-star">
                  <label for="icon9" class="d-block">
                    <i class="fa fa-star fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 10 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon10" value="fa fa-heart">
                  <label for="icon10" class="d-block">
                    <i class="fa fa-heart fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 11 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon11" value="fa fa-lock">
                  <label for="icon11" class="d-block">
                    <i class="fa fa-lock fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 12 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon12" value="fa fa-globe">
                  <label for="icon12" class="d-block">
                    <i class="fa fa-globe fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 13 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon13" value="fa fa-cloud">
                  <label for="icon13" class="d-block">
                    <i class="fa fa-cloud fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 14 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon14" value="fa fa-bell">
                  <label for="icon14" class="d-block">
                    <i class="fa fa-bell fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 15 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon15" value="fa fa-camera">
                  <label for="icon15" class="d-block">
                    <i class="fa fa-camera fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 16 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon16" value="fa fa-music">
                  <label for="icon16" class="d-block">
                    <i class="fa fa-music fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 17 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon17" value="fa fa-film">
                  <label for="icon17" class="d-block">
                    <i class="fa fa-film fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 18 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon18" value="fa fa-book">
                  <label for="icon18" class="d-block">
                    <i class="fa fa-book fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 19 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon19" value="fa fa-gift">
                  <label for="icon19" class="d-block">
                    <i class="fa fa-gift fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 20 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon20" value="fa fa-leaf">
                  <label for="icon20" class="d-block">
                    <i class="fa fa-leaf fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 21 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon21" value="fa fa-fire">
                  <label for="icon21" class="d-block">
                    <i class="fa fa-fire fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 22 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon22" value="fa fa-magic">
                  <label for="icon22" class="d-block">
                    <i class="fa fa-magic fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 23 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon23" value="fa fa-car">
                  <label for="icon23" class="d-block">
                    <i class="fa fa-car fa-2x text-primary"></i>
                  </label>
                </div>
          
                <!-- أيقونة 24 -->
                <div class="col text-center">
                  <input type="radio" name="icon" id="icon24" value="fa fa-plane">
                  <label for="icon24" class="d-block">
                    <i class="fa fa-plane fa-2x text-primary"></i>
                  </label>
                </div>
          
              </div>
            </div>
          </div>

        </div>

        <!-- الفوتر -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
          <button type="submit" class="btn btn-success">حفظ</button>
        </div>
      </form>

    </div>
  </div>
</div>

<!-- Add padding to ensure all content is visible -->
<div style="padding: 20px;"></div>

<!-- Edit Category Modal -->
<div class="modal fade voucher-modal" id="editCategoryModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content" dir="rtl">
      <div class="modal-header">
        <h5 class="modal-title">دليل البيانات > فئات الخدمات</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="اغلاق"></button>
      </div>
      <form id="editCategoryForm">
        <div class="modal-body">
          <!-- Category Basic Information Section -->
          <div class="v-section">
            <div class="v-cap">معلومات الفئة الأساسية</div>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="v-label">اسم الفئة<span class="v-req">*</span></label>
                <input type="text" class="v-input" id="edit-category-name" placeholder="أدخل اسم الفئة" value="ألعاب">
              </div>

              <div class="col-md-6">
                <label class="v-label">ترتيب العرض<span class="v-req">*</span></label>
                <input type="number" class="v-input" id="edit-display-order" placeholder="أدخل ترتيب العرض" value="1">
              </div>

              <div class="col-md-12">
                <label class="v-label">وصف الفئة</label>
                <textarea class="v-input" id="edit-category-description" placeholder="أدخل وصف الفئة" rows="3">فئات الألعاب الإلكترونية والتطبيقات</textarea>
              </div>

              <div class="col-md-6">
                <!-- الشبكة -->
                <label class="v-label">الشبكة <span class="v-req">*</span></label>
                <select class="v-select selectpicker" id="edit-network-number" data-live-search="true" title="اختر الشبكة">
                  <option value="yem">كبينة الموبايل مباشر - yem</option>
                  <option value="adslwline">كبينة الثابت والنت مباشر - adslwline</option>
                  <option value="kabinawifi">كبينة واي فاي - kabinawifi</option>
                  <option value="transferin">التحويل لحساب عميل - transferin</option>
                  <option value="khazna">الخزنة - khazna</option>
                  <option value="netflix">نت فليكس - netflix</option>
                  <option value="binsport">بي إن سبورت - binsport</option>
                  <option value="electkabina">تسديد فواتير الكهرباء - electkabina</option>
                  <option value="cardbalance">كبينة كروت تغذية الرصيد - cardbalance</option>
                  <option value="mtnpost">خدمة يو فوترة - mtnpost</option>
                  <option value="winner">كبينة المسابقات - winner</option>
                  <option value="chat">شات آب - chat</option>
                  <option value="setting">الاعدادات - setting</option>
                  <option value="sadidli">سددلي - sadidli</option>
                  <option value="report">تقرير - report</option>
                  <option value="offers">العروض والاعلانات - offers</option>
                  <option value="myaccount">حسابي - myaccount</option>
                  <option value="chngnk">خدمة طلب تعديل الاسم في النظام - chngnk</option>
                  <option value="kumsnd">ارسال حوالة كريمي مباشر - kumsnd</option>
                  <option value="s_imt_n">شرائح MTN مباشر - s_imt_n</option>
                  <option value="whynums">استعلام عن ارقام واي - whynums</option>
                  <option value="whynumcheck">فحص رقم واي - whynumcheck</option>
                  <option value="whysim">تفعيل شريحة واي - whysim</option>
                  <option value="traffic">خدمة سداد المخالفات المرورية - traffic</option>
                  <option value="sb_a_s_i_m">شرائح سبأفون جنوب مباشر - sb_a_s_i_m</option>
                  <option value="yousim">شرائح يو جديد مباشر - yousim</option>
                  <option value="youresim">شرائح يو بدل فاقد مباشر - youresim</option>
                  <option value="sabasim">شرائح جديد سبأفون مباشر - sabasim</option>
                  <option value="yem4g">خدمة يمن فورجي - yem4g</option>
                  <option value="w_h_y_sim">تفعيل شرايح واي مباشر - w_h_y_sim</option>
                  <option value="rcvmonry">خدمة اضافه المبلغ لحساب العميل - rcvmonry</option>
                  <option value="yougmtn">باقات يو الموحدة - yougmtn</option>
                  <option value="querypost">خدمة استعلام النت والثابت - querypost</option>
                  <option value="yem4gchng">تغيير باقة فورجي - yem4gchng</option>
                </select>
              </div>

              <div class="col-md-6">
                <!-- فئة اللعبة -->
                <label class="v-label">فئة اللعبه (فقط في فئات الالعاب)</label>
                <select class="v-select selectpicker" id="edit-games" data-live-search="true" multiple title="اختر الألعاب">
                  <option value="pubg">بوبجي PUBG Mobile</option>
                  <option value="freefire">فري فاير Free Fire</option>
                  <option value="ml">Mobile Legends</option>
                  <option value="lords">لوردز موبايل</option>
                  <option value="clashroyal">كلاش رويال</option>
                  <option value="coc">كلاش أوف كلانز</option>
                  <option value="newstate">PUBG: NEW STATE</option>
                  <option value="brawlstars">براول ستارز</option>
                  <option value="hyday">هاي داي</option>
                  <option value="jewels">جواهر</option>
                  <option value="goldcoins">عمله ذهبيه</option>
                  <option value="callofduty">كول أوف ديوتي</option>
                  <option value="boombay">بوم بيتش</option>
                  <option value="tiktok">تيك توك</option>
                  <option value="blupvip">بلوت VIP</option>
                  <option value="yallaluod">YALLA LUOD</option>
                  <option value="xbox">XBOX</option>
                  <option value="antkamalsatin">انتقام السلاطين</option>
                  <option value="apexlegends">Apex lagends</option>
                  <option value="tahadimlk">تحدي الملوك</option>
                  <option value="borg18">البرج 18</option>
                  <option value="fatihoon">الفاتحون</option>
                  <option value="toptop">توب توب TopTop</option>
                  <option value="8ballpool">8 ballPool</option>
                  <option value="tether">تيثر Tether</option>
                  <option value="lama">لعبه لامي</option>
                  <option value="ohla">اوهلا</option>
                  <option value="fifamobile">فيفا موبايل</option>
                  <option value="kwai">كواي</option>
                  <option value="madinatmafia">مدينة المافيا</option>
                  <option value="efootball">eFootball</option>
                  <option value="aroodal3ab">عروض الألعاب</option>
                  <option value="partystar">بارتي ستا</option>
                  <option value="asralsa2ir">عصر الاساطير</option>
                  <option value="pubglite">PUBG Lite</option>
                  <option value="farlight">فار لايت</option>
                  <option value="tod">تود Tod</option>
                  <option value="kingofflown">كينج اوف افلاون</option>
                  <option value="apexlagends"> Apex lagends</option>
                  <option value="honorkings">Honor of Kings</option>
                  <option value="topwar">توب وار</option>
                  <option value="partyu">بارتي يو</option>
                  <option value="piggygo">بيجي جو - Piggy go</option>
                  <option value="ludoclub">لودو كلوب - Ludo club</option>
                  <option value="funboxludo">فن بوكس لودو - Funbox ludo</option>
                  <option value="tantan">تان تان - Tan tan</option>
                  <option value="goldenludo">جولدن لودو - Golden ludo</option>
                </select>
              </div>

              <div class="col-md-12">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="v-label">عرض الصورة</label>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="edit-show-image" checked>
                      <label class="form-check-label" for="edit-show-image">عرض الصورة</label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">عرض الايقونة</label>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="edit-show-icon" checked>
                      <label class="form-check-label" for="edit-show-icon">عرض الايقونة</label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">صورة<span class="v-req">*</span></label>
                    <div class="input-group">
                      <input type="file" class="form-control" id="edit-category-image">
                      <label class="input-group-text" for="edit-category-image">اختر ملف</label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">اختر لون الايقونة<span class="v-req">*</span></label>
                    <input type="color" class="form-control form-control-color" id="edit-icon-color" value="#563d7c" title="اختر لون">
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">اختر لون خلفية الايقونة<span class="v-req">*</span></label>
                    <input type="color" class="form-control form-control-color" id="edit-icon-bg-color" value="#ffffff" title="اختر لون">
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">اختر لون النص<span class="v-req">*</span></label>
                    <input type="color" class="form-control form-control-color" id="edit-text-color" value="#000000" title="اختر لون">
                  </div>

                  <div class="col-md-6">
                    <label class="v-label">اختر لون خلفية النص<span class="v-req">*</span></label>
                    <input type="color" class="form-control form-control-color" id="edit-text-bg-color" value="#ffffff" title="اختر لون">
                  </div>

                  <div class="col-md-12">
                    <!-- اختيار أيقونة -->
                    <div class="mb-3" dir="rtl">
                      <label class="form-label fw-bold">اختر أيقونة <span class="text-danger">*</span></label>
                      
                      <div class="icon-picker" style="max-height:350px; overflow-y:auto;">
                        <div class="row row-cols-6 g-3">
                    
                          <!-- أيقونة 1 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon1" value="fa fa-home">
                            <label for="edit-icon1" class="d-block">
                              <i class="fa fa-home fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 2 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon2" value="fa fa-user">
                            <label for="edit-icon2" class="d-block">
                              <i class="fa fa-user fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 3 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon3" value="fa fa-cog">
                            <label for="edit-icon3" class="d-block">
                              <i class="fa fa-cog fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 4 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon4" value="fa fa-credit-card">
                            <label for="edit-icon4" class="d-block">
                              <i class="fa fa-credit-card fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 5 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon5" value="fa fa-shopping-cart">
                            <label for="edit-icon5" class="d-block">
                              <i class="fa fa-shopping-cart fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 6 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon6" value="fa fa-gamepad">
                            <label for="edit-icon6" class="d-block">
                              <i class="fa fa-gamepad fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 7 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon7" value="fa fa-phone">
                            <label for="edit-icon7" class="d-block">
                              <i class="fa fa-phone fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 8 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon8" value="fa fa-envelope">
                            <label for="edit-icon8" class="d-block">
                              <i class="fa fa-envelope fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 9 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon9" value="fa fa-star">
                            <label for="edit-icon9" class="d-block">
                              <i class="fa fa-star fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 10 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon10" value="fa fa-heart">
                            <label for="edit-icon10" class="d-block">
                              <i class="fa fa-heart fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 11 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon11" value="fa fa-lock">
                            <label for="edit-icon11" class="d-block">
                              <i class="fa fa-lock fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 12 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon12" value="fa fa-globe">
                            <label for="edit-icon12" class="d-block">
                              <i class="fa fa-globe fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 13 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon13" value="fa fa-cloud">
                            <label for="edit-icon13" class="d-block">
                              <i class="fa fa-cloud fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 14 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon14" value="fa fa-bell">
                            <label for="edit-icon14" class="d-block">
                              <i class="fa fa-bell fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 15 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon15" value="fa fa-camera">
                            <label for="edit-icon15" class="d-block">
                              <i class="fa fa-camera fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 16 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon16" value="fa fa-music">
                            <label for="edit-icon16" class="d-block">
                              <i class="fa fa-music fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 17 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon17" value="fa fa-film">
                            <label for="edit-icon17" class="d-block">
                              <i class="fa fa-film fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 18 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon18" value="fa fa-book">
                            <label for="edit-icon18" class="d-block">
                              <i class="fa fa-book fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 19 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon19" value="fa fa-gift">
                            <label for="edit-icon19" class="d-block">
                              <i class="fa fa-gift fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 20 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon20" value="fa fa-leaf">
                            <label for="edit-icon20" class="d-block">
                              <i class="fa fa-leaf fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 21 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon21" value="fa fa-fire">
                            <label for="edit-icon21" class="d-block">
                              <i class="fa fa-fire fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 22 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon22" value="fa fa-magic">
                            <label for="edit-icon22" class="d-block">
                              <i class="fa fa-magic fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 23 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon23" value="fa fa-car">
                            <label for="edit-icon23" class="d-block">
                              <i class="fa fa-car fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                          <!-- أيقونة 24 -->
                          <div class="col text-center">
                            <input type="radio" name="edit-icon" id="edit-icon24" value="fa fa-plane">
                            <label for="edit-icon24" class="d-block">
                              <i class="fa fa-plane fa-2x text-primary"></i>
                            </label>
                          </div>
                    
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <small class="text-muted me-auto">الحقول بعلامة <span class="v-req">*</span> مطلوبة</small>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
          <button type="submit" class="btn btn-primary">
            <i class="fa fa-check me-1"></i>حفظ التغييرات
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- View Category Modal -->
<div class="modal fade voucher-modal" id="viewCategoryModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content" dir="rtl">
      <div class="modal-header">
        <h5 class="modal-title">عرض فئة الخدمة</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="اغلاق"></button>
      </div>
      <div class="modal-body">
        <div class="v-section">
          <div class="v-cap">معلومات الفئة</div>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="v-label">اسم الفئة</label>
              <div class="form-control-plaintext">ألعاب</div>
            </div>
            
            <div class="col-md-6">
              <label class="v-label">ترتيب العرض</label>
              <div class="form-control-plaintext">1</div>
            </div>
            
            <div class="col-md-12">
              <label class="v-label">وصف الفئة</label>
              <div class="form-control-plaintext">فئات الألعاب الإلكترونية والتطبيقات</div>
            </div>
            
            <div class="col-md-6">
              <label class="v-label">عرض الصورة</label>
              <div class="form-control-plaintext">نعم</div>
            </div>
            
            <div class="col-md-6">
              <label class="v-label">عرض الايقونة</label>
              <div class="form-control-plaintext">نعم</div>
            </div>
            
            <div class="col-md-12">
              <label class="v-label">الايقونة</label>
              <div class="border p-3 text-center" style="width: 80px; height: 80px;">
                <i class="ti ti-game fs-1"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
      </div>
    </div>
  </div>
</div>

@section scripts {
    <!-- jstree js -->
    <script src="~/plugins/jstree/jstree.min.js"></script>
    <!-- date range picker js -->
    <script src="~/plugins/daterangepicker/moment.min.js"></script>
    <script src="~/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- datatables js -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>
    <!-- datatables buttons js -->
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.bootstrap5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
    <!-- bootstrap-select js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/i18n/defaults-ar_AR.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // Initialize DataTable
            var table = $('#categoriesTable').DataTable({
                responsive: true,
                dom: 'rt', // Remove default buttons from DOM
                language: {
                    url: "//cdn.datatables.net/plug-ins/1.13.6/i18n/ar.json",
                    emptyTable: "لا توجد بيانات",
                    info: "إظهار _START_ إلى _END_ من _TOTAL_ سجل",
                    infoEmpty: "إظهار 0 إلى 0 من 0",
                    paginate: { first:"الأولى", last:"الأخيرة", next:"التالي", previous:"السابق" }
                },
                buttons: [
                    {
                        extend: 'print',
                        text: 'طباعه',
                        className: 'btn btn-outline-secondary btn-sm',
                        exportOptions: {
                            columns: ':visible'
                        }
                    },
                    {
                        extend: 'colvis',
                        text: 'تحديد الحقول',
                        className: 'btn btn-outline-secondary btn-sm',
                        collectionLayout: 'fixed two-column'
                    },
                    {
                        extend: 'excelHtml5',
                        text: 'تصدير اكسل',
                        className: 'btn btn-outline-secondary btn-sm',
                        exportOptions: {
                            columns: ':visible'
                        }
                    }
                ]
            });
            
            // Move buttons to filter section
            table.buttons().container().appendTo('#datatables-buttons-container');
            
            // Toggle filter section
            $('#toggleFilters').click(function() {
                $('#filterSection').slideToggle();
                var icon = $(this).find('i');
                var text = $('#toggleFiltersText');
                if (icon.hasClass('ti-filter-off')) {
                    icon.removeClass('ti-filter-off').addClass('ti-filter');
                    text.text('إخفاء الفلترة');
                } else {
                    icon.removeClass('ti-filter').addClass('ti-filter-off');
                    text.text('إظهار الفلترة');
                }
            });
            
            // Select all checkboxes
            $('#selectAll').click(function() {
                $('.category-checkbox').prop('checked', this.checked);
            });
            
            // Refresh button
            $('#refreshBtn').click(function() {
                location.reload();
            });
            
            // Initialize bootstrap select
            $('.selectpicker').selectpicker();
            
            // Initialize selectpickers in modals when they are shown
            $('#addServiceCategory, #editCategoryModal').on('shown.bs.modal', function () {
                $('.selectpicker', this).selectpicker('render');
            });
            
            // Handle action buttons
            $('#topEditButton').click(function(e) {
                e.preventDefault();
                if ($('.category-checkbox:checked').length === 0) {
                    alert('الرجاء تحديد فئة واحدة على الأقل للتعديل');
                    return;
                }
                $('#editCategoryModal').modal('show');
            });
            
            $('#topViewButton').click(function(e) {
                e.preventDefault();
                if ($('.category-checkbox:checked').length === 0) {
                    alert('الرجاء تحديد فئة واحدة على الأقل للمشاهدة');
                    return;
                }
                $('#viewCategoryModal').modal('show');
            });
            
            // Handle dropdown actions
            $('#categoriesTable').on('click', '[data-action="edit"]', function(e) {
                e.preventDefault();
                $('#editCategoryModal').modal('show');
            });
            
            $('#categoriesTable').on('click', '[data-action="view"]', function(e) {
                e.preventDefault();
                $('#viewCategoryModal').modal('show');
            });

            // Dynamic services list generation
            $('#addServiceCategory').on('shown.bs.modal', function () {
                // جميع الخدمات في مصفوفة
                const services = [
                    "تسديد رصيد موبايل",
                    "رصيد وباقة ( سعر الرصيد+نوع الباقة )",
                    "ADSL",
                    "الهاتف الثابت",
                    "بدل فاقد يمن موبايل",
                    "شريحة جديد موبايل",
                    "شحن فوري للجميع",
                    "شريحة جديدة دفع مسبق/برمجه",
                    "بدل فاقد(2)",
                    "تفعيل You جديده",
                    "تفعيل سبافون",
                    "باقات MTN",
                    "إرسال حواله",
                    "اضف شبكتك مجاناَ",
                    "استلام حواله",
                    "كروت شبكةsms",
                    "شحن فوري جمله",
                    "إرسال اشعار التامين-",
                    "تسديد النت يدوي",
                    "الخط الثابت يدوي",
                    "باقات سبأفون",
                    "كروت وايرلس اشعارات فقط",
                    "حول رصيد لتسديد فوري",
                    "باقات موبايل",
                    "وحدات حسب الطلب",
                    "ريال موبايل جمله",
                    "إرسال اشعار التامين",
                    "فوترة سبافون يدوي",
                    "الخزنه للتحويل بين التطبيقات",
                    "شدات بوبجي",
                    "عمولة ارسال حوالة اجنبية",
                    "تعديل الاسم الشخصي ليطابق نظام الكريمي",
                    "ميزة تطبيقي",
                    "باقات سبافون جنوب",
                    "شحن فوري سبافون جنوب",
                    "بطاقة ريزر عالمي",
                    "ايتونز امريكي",
                    "فري فاير",
                    "رمز استرداد ببجي",
                    "فري فاير رمز استرداد",
                    "مبيعات كروت الوايرلس",
                    "بطاقة BeinSport-Connect بين سبورت",
                    "PlayStation Network بلاستيشن امريكي",
                    "PlayStation Network KSA (سعودي)",
                    "CrossFire Card",
                    "موبايل ليجند",
                    "بطاقة فيزا للمتجر فقط",
                    "تفعيل باقات فوري جي ب 100 ريال",
                    "لايكي Likee",
                    "PUBG: NEW STATE",
                    "بطاقة جوجل بلاي امريكي",
                    "كلاش اوف كلانس",
                    "جواهر لوردس موبايل",
                    "كلاش رويال",
                    "براول ستارز",
                    "هاي داي جواهر",
                    "هاي داي عملة ذهبية",
                    "كول او ديوتي",
                    "بوم بيتش",
                    "بطائق مستر كارد دفع مسبق",
                    "تسديد المخالفات المروروية",
                    "كهرباء تجدد",
                    "سداد فواتير الماء",
                    "مؤسسة الكهرباء",
                    "البريد اليمني وايفاي",
                    "كرستال جنشن امباكت",
                    "بطاقة تانجو لايف",
                    "كونزات يويو",
                    "بطاقة فورتنايت V-Bucks",
                    "اشتراكات كرنشي رول",
                    "عملات تيكتوك",
                    "ميكو لايف",
                    "ايمو لايف",
                    "اكواد بوبجي",
                    "تحدي الملوك حرب / حرب السلاطين",
                    "يمن فورجي",
                    "بدل فاقد يو",
                    "توب توب",
                    "برونزي موبايل 4500",
                    "انتقام السلاطين",
                    "رصيد يو",
                    "توثيق الحساب",
                    "اهلا شات",
                    "كونزات كفو (",
                    "يلا لودو",
                    "كوينزات يوهو",
                    "كوينزات تالك تالك",
                    "يلا لايف قطع ذهبية",
                    "سول شيل",
                    "نتفلكس",
                    "تحويل الى حساب بايننس برنامج",
                    "سوا شات",
                    "بوبو لايف",
                    "بارتي ستار",
                    "بيلا شات",
                    "هاكي",
                    "اصوات شات",
                    "ليلى LAYLA",
                    "جيمي لايف Gimme",
                    "سويوSOYO",
                    "غلا Gala",
                    "وياك wyak",
                    "ويجو شات WEGO",
                    "Maan- مان",
                    "كملنا",
                    "بيكا Pika",
                    "سلام شات",
                    "الولو ALULU",
                    "فيكو Veco",
                    "ياهلن YAAHLAN",
                    "ستار ميكر",
                    "سوغو SUGO",
                    "هوني جار Honey jar",
                    "سبارتي",
                    "وناسة شات",
                    "هوبي HOBY",
                    "تامي Tami",
                    "هبي habi",
                    "جواكر",
                    "روبوتات الحرب",
                    "فارلايت 84",
                    "ديتو Ditto",
                    "نبض Nabd",
                    "اشا لايف Asha live",
                    "هاي بارتي",
                    "بلود سترايك Blood Strike",
                    "بارتي يو Party U",
                    "توب وار Top War",
                    "هونر اوف كينج Honor of Kings",
                    "سول ستار SoulSatar",
                    "يامي ستار YamiStar",
                    "كانفا Canva"
                ];

                const container = document.getElementById("services-list");
                
                // Clear existing content
                container.innerHTML = '';
                
                services.forEach((service, i) => {
                    const div = document.createElement("div");
                    div.className = "form-check d-flex justify-content-between";

                    div.innerHTML = `
                        <label class="form-check-label" for="s${i}">${service}</label>
                        <input class="form-check-input" type="checkbox" id="s${i}" name="services[]" value="${service}">
                    `;

                    container.appendChild(div);
                });
            });
        });
    </script>
}