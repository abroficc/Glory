﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿<!DOCTYPE html>

@{
    var html_attributes = ViewBag.HTMLAttributes != null ? ViewBag.HTMLAttributes : "";
    var html_class = ViewBag.HTMLClass != null ? ViewBag.HTMLClass : "";
    var direction = ViewData["Direction"]?.ToString() ?? "rtl";
}

<html lang="ar" dir="@direction" class="@html_class" @html_attributes>

<head>
    @await Html.PartialAsync("~/Views/Shared/Partials/_TitleMeta.cshtml")
    @RenderSection("styles", false)
    @await Html.PartialAsync("~/Views/Shared/Partials/_HeadCSS.cshtml")
    
    <!-- SimpleBar CSS CDN with local fallback -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplebar@5.3.9/dist/simplebar.min.css" onerror="this.onerror=null;this.href='/plugins/simplebar/simplebar.min.css';">
    
    <!-- Additional CSS to ensure proper scrollbar functionality -->
    <style>
        .scrollbar[data-simplebar] {
            height: calc(100vh - 70px); /* Adjust based on your layout */
            overflow-y: auto;
        }
        
        [data-simplebar] {
            position: relative;
            flex-direction: column;
            flex-wrap: wrap;
            justify-content: flex-start;
            align-content: flex-start;
            align-items: flex-start;
        }
        
        .simplebar-wrapper {
            overflow: hidden;
            width: inherit;
            height: inherit;
            max-width: inherit;
            max-height: inherit;
        }
    </style>
    
    <!-- Radio Spinner Loader CSS -->
    <link rel="stylesheet" href="~/uploads/loaders/radio-spinner.css">
</head>

<body dir="rtl" class="text-end">
    <div class="wrapper">
        @await Html.PartialAsync("~/Views/Shared/Partials/_TopBar.cshtml")
        
        @await Html.PartialAsync("~/Views/Shared/Partials/_SideNav.cshtml")

        <div class="content-page">
            
            @RenderBody()

            @await Html.PartialAsync("~/Views/Shared/Partials/_Footer.cshtml")

        </div>
    </div>

    @await Html.PartialAsync("~/Views/Shared/Partials/_Customizer.cshtml")
    @await Html.PartialAsync("~/Views/Shared/Partials/_FooterScripts.cshtml")

    <!-- Radio Spinner Loader JavaScript -->
    <script src="~/uploads/loaders/radio-spinner.js"></script>

    @RenderSection("scripts", required: false)
    

</body>
</html>